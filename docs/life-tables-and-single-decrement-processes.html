<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 3 Life tables and single decrement processes | UW SOC/CS&amp;SS/CSDE 533 A Course Notes</title>
<meta name="author" content="Ben Hanowell">
<meta name="description" content="KEY CONCEPT A life table is one of the most important demographic tools for summarizing the mortality experience of a cohort.  Cohort life tables with lifeline data Since a life table summarizes...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 3 Life tables and single decrement processes | UW SOC/CS&amp;SS/CSDE 533 A Course Notes">
<meta property="og:type" content="book">
<meta property="og:description" content="KEY CONCEPT A life table is one of the most important demographic tools for summarizing the mortality experience of a cohort.  Cohort life tables with lifeline data Since a life table summarizes...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 3 Life tables and single decrement processes | UW SOC/CS&amp;SS/CSDE 533 A Course Notes">
<meta name="twitter:description" content="KEY CONCEPT A life table is one of the most important demographic tools for summarizing the mortality experience of a cohort.  Cohort life tables with lifeline data Since a life table summarizes...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/plotly-binding-4.10.0/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.20/datatables.js"></script><link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script><link href="libs/vis-4.16.1/vis.min.css" rel="stylesheet">
<script src="libs/vis-4.16.1/vis.min.js"></script><link href="libs/timeline-0.4/timevis.css" rel="stylesheet">
<script src="libs/timevis-binding-1.0.0/timevis.js"></script><script src="libs/jquery-migrate-3.1.0/jquery-migrate-3.1.0.min.js"></script><link href="libs/slick-1.8.1/slick/slick.css" rel="stylesheet">
<link href="libs/slick-1.8.1/slick/slick-theme.css" rel="stylesheet">
<script src="libs/slick-1.8.1/slick/slick.min.js"></script><script src="libs/css-resize-1.2.1/ResizeSensor.js"></script><script src="libs/css-resize-1.2.1/ElementQueries.js"></script><link href="libs/slickR-0.0.1/slick.css" rel="stylesheet">
<link href="libs/slickR-0.0.1/slick-theme.css" rel="stylesheet">
<script src="libs/slickR-0.0.1/slickR.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">UW SOC/CS&amp;SS/CSDE 533 A Course Notes</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="concepts-and-measures.html"><span class="header-section-number">1</span> Concepts and measures</a></li>
<li><a class="" href="week2.html"><span class="header-section-number">2</span> Age-specific rates and probabilities</a></li>
<li><a class="active" href="life-tables-and-single-decrement-processes.html"><span class="header-section-number">3</span> Life tables and single decrement processes</a></li>
<li><a class="" href="multiple-decrement-processes.html"><span class="header-section-number">4</span> Multiple decrement processes</a></li>
<li><a class="" href="fertility-and-reproduction.html"><span class="header-section-number">5</span> Fertility and reproduction</a></li>
<li><a class="" href="population-projections.html"><span class="header-section-number">6</span> Population projections</a></li>
<li><a class="" href="stable-population-model.html"><span class="header-section-number">7</span> Stable population model</a></li>
<li><a class="" href="modeling-age-patterns-of-vital-events.html"><span class="header-section-number">8</span> Modeling age patterns of vital events</a></li>
<li><a class="" href="methods-for-evaluating-data-quality.html"><span class="header-section-number">9</span> Methods for evaluating data quality</a></li>
<li><a class="" href="indirect-estimation-methods.html"><span class="header-section-number">10</span> Indirect estimation methods</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/hanowell/uwsoc533a">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="life-tables-and-single-decrement-processes" class="section level1" number="3">
<h1>
<span class="header-section-number">3</span> Life tables and single decrement processes<a class="anchor" aria-label="anchor" href="#life-tables-and-single-decrement-processes"><i class="fas fa-link"></i></a>
</h1>
<div class="rmdimportant">
<p><strong>KEY CONCEPT</strong></p>
<p>A <strong>life table</strong> is one of the most important demographic tools for summarizing the mortality experience of a cohort.</p>
</div>
<div id="cohort-life-tables-with-lifeline-data" class="section level3 unnumbered">
<h3>Cohort life tables with lifeline data<a class="anchor" aria-label="anchor" href="#cohort-life-tables-with-lifeline-data"><i class="fas fa-link"></i></a>
</h3>
<p>Since a life table summarizes the experience of a cohort, let’s start by building a life table from the lifelines of a small hypothetical cohort based actual people born January 1, 1800<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;This section uses the example from PHG pgs. 39-41&lt;/p&gt;"><sup>28</sup></a>.</p>
<p>Below, a lifelines plot like we drew in <a href="concepts-and-measures.html#person-periods">week 1</a>, except time is measured from age <span class="math inline">\(x = 0\)</span>, and everybody in this real birth cohort was born January 1, 1800<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;From PHG Figure 3.1&lt;/p&gt;"><sup>29</sup></a>:</p>
<p><img src="03_life-tables-and-single-decrement-processes_files/figure-html/cohort_lifelines_plot-1.png" width="672"><br><br></p>
<details><summary>
Number <span class="math inline">\(l_0\)</span> of live births (i.e., number surviving to exact age <span class="math inline">\(x = 0\)</span>)?
</summary><span class="math inline">\(l_{0} = 10\)</span>
</details><details><summary>
Number of deaths <span class="math inline">\({}_{n}d_{x}\)</span> between ages <span class="math inline">\(x = 0\)</span> and <span class="math inline">\(x+n = 1\)</span>?
</summary><span class="math inline">\({}_{1}d_{0} = 1\)</span>
</details><details><summary>
Number <span class="math inline">\(l_x\)</span> still alive at exact age <span class="math inline">\(x = 1\)</span>?
</summary><p><span class="math inline">\(l_{1} = l_0 - {}_{1}d_{0} = 9\)</span></p>
<p>So in general:</p>
<span class="math display">\[l_{x+n} = l_x - {}_{n}d_{x}\]</span>
</details><details><summary>
Probability of death <span class="math inline">\({}_{n}q_{x}\)</span> between ages <span class="math inline">\(x = 0\)</span> and <span class="math inline">\(x+n = 1\)</span>?
</summary><p><span class="math display">\[
{}_{1}q_{0} = \frac{{}_{1}d_{0}}{l_0}
             = 0.1
\]</span></p>
<p>So in general:</p>
<span class="math display">\[{}_{n}q_{x} = \frac{{}_{n}d_{x}}{l_x}\]</span>
</details><details><summary>
Probability of survival <span class="math inline">\({}_{n}p_{x}\)</span> between ages <span class="math inline">\(x = 0\)</span> and <span class="math inline">\(x+n = 1\)</span>?
</summary><p><span class="math display">\[
{}_{1}p_{0} = l_1 / l_0
              = 1 - {}_{1}q_{0}
              = 0.9
\]</span></p>
<p>For general <span class="math inline">\(x\)</span>:</p>
<span class="math display">\[{}_{n}p_{x} = l_{x+n} / l_x = 1 - {}_{n}q_{x}\]</span>
</details><details><summary>
Number of person-years <span class="math inline">\({}_{n}A_x\)</span> lived by those who died between ages <span class="math inline">\(x\)</span> and <span class="math inline">\(x+n\)</span>?
</summary><p>For general <span class="math inline">\(x\)</span>:</p>
<p><span class="math display">\[
{}_{n}A_x =
  \sum_{i \in \textsf{dead}_x} \left(\textsf{(Exact age at death)}_i - x\right)
\]</span></p>
<p>But for these <span class="math inline">\(x = 0\)</span> (i.e., infants):</p>
<span class="math display">\[\begin{align}
{}_{1}A_0
  &amp;= \sum_{i \in \textsf{dead}_0} \left(\textsf{(Exact age at death)}_i - 0\right) \\
  &amp;= \sum_{i \in \textsf{dead}_0} \textsf{(Exact age at death)}_i \\
  &amp;= 0.07
\end{align}\]</span>
</details><details><summary>
What is the average number of person-years lived <span class="math inline">\({}_{n}a_x\)</span> by those who died between ages <span class="math inline">\(x\)</span> and <span class="math inline">\(x+n\)</span>?<br><strong>Hint:</strong> It’s the average of a similar figure we’ve seen already, thus a ratio of that sum to a count we’ve seen already.
</summary><p>For general age group starting at exact age <span class="math inline">\(x\)</span>:</p>
<p><span class="math display">\[{}_{n}a_x = \frac{{}_{n}A_x}{{}_{n}d_x}\]</span></p>
<p>But for these <span class="math inline">\(x = 0\)</span> (i.e., infants):</p>
<span class="math display">\[
{}_{1}a_0
  = \frac{{}_{1}A_0}{{}_{1}d_0}
  = \frac{
    0.07
  }{
    1
  }
  = 0.07
\]</span>
</details><details><summary>
Person-years lived <span class="math inline">\({}_{n}L_{x}\)</span> between ages <span class="math inline">\(x = 0\)</span> and <span class="math inline">\(x+n = 1\)</span>?
</summary><p><span class="math display">\[\begin{align}
  {}_{n}L_{x}
    &amp;= \begin{pmatrix}
      \textsf{Person-years lived} \\
      \textsf{between ages } x \textsf{ and } x+n \\
      \textsf{among survivors to age } x+n
    \end{pmatrix}
    \times \begin{pmatrix}
      \textsf{Width of } [x,x+n)\\
      \textsf{age interval}
    \end{pmatrix}
    + \begin{pmatrix}
      \textsf{Person-years lived} \\
      \textsf{between ages } x \textsf{ and } x+n \\
      \textsf{among those who died} \\
      \textsf{before age } x+n
    \end{pmatrix} \\
    &amp;=  \begin{pmatrix}
      \textsf{Survivor count} \\
      \textsf{weighted by} \\
      \textsf{interval width} \\
    \end{pmatrix}
    + \begin{pmatrix}
      \textsf{Fractional person-years} \\
      \textsf{lived by the now deceased}
    \end{pmatrix} \\
    &amp;= \left(l_{x+n} \times n\right) + {_n}_{}A_x
\end{align}\]</span></p>
<p>This should look familiar to our expression of person-years from <a href="concepts-and-measures.html#person-periods">week 1</a>: <span class="math inline">\(PY[0,1] = \sum_1^P N_i \times \Delta_i\)</span></p>
<p>So for these 1800 birth cohort infants:</p>
<p><span class="math display">\[\begin{align}
{}_{1}L_0
  &amp;= l_1 \times 1
  + \sum_{i \in \textsf{dead}_0} \left(\textsf{(Exact age at death)}_i - 0\right) \\
  &amp;= l_1  + \sum_{i \in \textsf{dead}_0} \textsf{(Exact age at death)}_i \\
  &amp;= 9 + 0.07 \\
  &amp;= 9.07
\end{align}\]</span></p>
<p>Recall that <span class="math inline">\({}_{n}a_x = \frac{{}_{n}A_x}{{}_{n}d_x}\)</span></p>
<p>Thus <span class="math inline">\({}_{n}A_x = {}_{n}a_x \times {}_{n}d_x\)</span></p>
<p>Thus <span class="math inline">\(L_x = l_{x+n} \times n + {_n}_{}a_x \times {}_{n}d_x\)</span></p>
<p>This becomes useful when doing <strong>period life tables</strong> because:</p>
<ul>
<li>You can’t calculate <span class="math inline">\({}_{n}A_x\)</span> directly</li>
<li>So you can’t calculate <span class="math inline">\(L_x\)</span> from <span class="math inline">\({}_{n}A_x\)</span> directly</li>
<li>So you borrow values from a model or another population</li>
<li>But you want <span class="math inline">\({}_{n}A_x\)</span> estimates that aren’t contaminated by another population’s size
<br><br>
</li>
</ul></details><details><summary>
Person-years <span class="math inline">\(T_x\)</span> lived above exact age <span class="math inline">\(x = 0\)</span>?
</summary><p><span class="math display">\[\begin{align}
  T_0
    &amp;= \textsf{Total person years lived from birth to death} \\
    &amp;= \sum_i \textsf{(Exact age at death)}_i \\
    &amp;= \sum_{a=0}^\infty {}_{n}L_a
\end{align}\]</span></p>
<div class="rmdtip">
<strong>DEMOGRAPHY &amp; DATA SCIENCE</strong>
<details><summary>
Okay that was too easy, what about <span class="math inline">\(T_{20}\)</span>? Let’s do it with R code.
</summary><p>More generally:</p>
<p><span class="math display">\[T_x = \sum_{a=x}^\infty {}_{n}L_a\]</span></p>
<p>Easy to think about, but funky to do in practice.</p>
<p>Let’s walk through how you’d do it with R code.</p>
<p>Say you have a cohort life table in a <code>data.frame</code> with two columns:</p>
<ul>
<li>
<code>x</code>: Exact age <span class="math inline">\(x\)</span> at the beginning of each age interval</li>
<li>
<code>L</code>: Person-years <span class="math inline">\({}_{n}L_x\)</span> lived in the age interval</li>
</ul>
<p>It looks like this:</p>
<table class=" lightable-paper lightable-hover" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; '>
<thead><tr>
<th style="text-align:right;">
x
</th>
<th style="text-align:right;">
L
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
9.07
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
32.22
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
40.00
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
76.41
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
62.12
</td>
</tr>
<tr>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
60.00
</td>
</tr>
<tr>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
60.00
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
59.60
</td>
</tr>
<tr>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
36.96
</td>
</tr>
<tr>
<td style="text-align:right;">
70
</td>
<td style="text-align:right;">
9.48
</td>
</tr>
<tr>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
</td>
</tr>
</tbody>
</table>
<p>To create a column <code>T</code> storing <span class="math inline">\(T_x\)</span> values, do this (assuming you have <code>dplyr</code> installed and loaded):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">saving_you_some_time</span> <span class="op">&lt;-</span> <span class="va">cohort_lt_xL</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>
    T <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="va">L</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co"># Reverse person-years column so sum back to x = 0</span>
      <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/coalesce.html">coalesce</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co"># Replace the missing value at x = 80 so you can...</span>
      <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co"># ... take the cumulative sum of person years</span>
      <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Finally, reverse the cumulative sum back in age order</span>
  <span class="op">)</span>
<span class="va">saving_you_some_time</span> <span class="op">%&gt;%</span>
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_classic.html">kable_paper</a></span><span class="op">(</span><span class="st">"hover"</span>, full_width <span class="op">=</span> <span class="cn">FALSE</span>, position <span class="op">=</span> <span class="st">"left"</span><span class="op">)</span></code></pre></div>
<table class=" lightable-paper lightable-hover" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; '>
<thead><tr>
<th style="text-align:right;">
x
</th>
<th style="text-align:right;">
L
</th>
<th style="text-align:right;">
T
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
9.07
</td>
<td style="text-align:right;">
445.86
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
32.22
</td>
<td style="text-align:right;">
436.79
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
40.00
</td>
<td style="text-align:right;">
404.57
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
76.41
</td>
<td style="text-align:right;">
364.57
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
62.12
</td>
<td style="text-align:right;">
288.16
</td>
</tr>
<tr>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
60.00
</td>
<td style="text-align:right;">
226.04
</td>
</tr>
<tr>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
60.00
</td>
<td style="text-align:right;">
166.04
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
59.60
</td>
<td style="text-align:right;">
106.04
</td>
</tr>
<tr>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
36.96
</td>
<td style="text-align:right;">
46.44
</td>
</tr>
<tr>
<td style="text-align:right;">
70
</td>
<td style="text-align:right;">
9.48
</td>
<td style="text-align:right;">
9.48
</td>
</tr>
<tr>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
</tbody>
</table>
You’re welcome.
</details>
</div>
</details><details><summary>
What is the life expectancy at birth, i.e., life expectancy <span class="math inline">\(e_x^0\)</span> at age <span class="math inline">\(x = 0\)</span>?<br><strong>Hint:</strong> It’s the per-survivor average of a value we’ve already calculated, so it’s a ratio of that value and another one we’ve already calculated.
</summary><p><span class="math display">\[\begin{align}
  e_0^0
    &amp;= \frac{
      \textsf{Person-years lived after age } x=0 \textsf{ (i.e., total person-years)}
    }{
      \textsf{People alive after age } x=0 \textsf{ (i.e., live births)}
    } \\
    &amp;= T_0/l_0
    = 445.86
    / 10
    = 44.586
\end{align}\]</span></p>
<p>So for general exact age <span class="math inline">\(x\)</span>:</p>
<p><span class="math display">\[e_x^0 = T_x/l_x\]</span></p>
</details><details><summary>
What is the mortality rate <span class="math inline">\({}_{n}m_x\)</span> in the cohort between ages <span class="math inline">\(x\)</span> and <span class="math inline">\(x+n\)</span>
</summary><ul>
<li>This is just a cohort age-specific rate</li>
<li>Using life table notation, it is:</li>
</ul>
<span class="math display">\[
{}_{1}m_0
  = {}_{1}d_0 / {}_{1}L_0
  = 1
  / 9.07
  = 0.1102536
\]</span>
</details><p><br><br></p>
<center>
🤯🤯🤯
</center>
<p><strong>QUESTION:</strong> Why did we just learn all of those values?</p>
<p><strong>ANSWER:</strong> Three reasons:</p>
<ol style="list-style-type: decimal">
<li>I’m evil</li>
<li>Their relationships and values help create <strong>period life tables</strong>
</li>
<li>Their values (and operations on them) are interesting in and of themselves</li>
</ol>
<ul>
<li>We’ll see examples of those last two points in later sections.</li>
<li>You’ve already seen ample evidence of the first point.</li>
</ul>
<p>Now let’s put all these values together into our first cohort life table:</p>
<div class="inline-table"><table class=" lightable-paper lightable-hover" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; '>
<thead><tr>
<th style="text-align:right;">
<span class="math inline">\(x\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(n\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(x+n\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(l_x\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\({}_{n}d_x\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\({}_{n}q_x\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\({}_{n}p_x\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(L_x\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(T_x\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(e_x^0\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\({}_{n}m_x\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\({}_{n}a_x\)</span>
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-left:1px solid;">
1
</td>
<td style="text-align:right;border-left:1px solid;">
1
</td>
<td style="text-align:right;border-left:1px solid;">
10
</td>
<td style="text-align:right;border-left:1px solid;">
1
</td>
<td style="text-align:right;border-left:1px solid;">
0.1000000
</td>
<td style="text-align:right;border-left:1px solid;">
0.9000000
</td>
<td style="text-align:right;border-left:1px solid;">
9.07
</td>
<td style="text-align:right;border-left:1px solid;">
445.86
</td>
<td style="text-align:right;border-left:1px solid;">
44.58600
</td>
<td style="text-align:right;border-left:1px solid;">
0.1102536
</td>
<td style="text-align:right;border-left:1px solid;">
0.07
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;border-left:1px solid;">
4
</td>
<td style="text-align:right;border-left:1px solid;">
5
</td>
<td style="text-align:right;border-left:1px solid;">
9
</td>
<td style="text-align:right;border-left:1px solid;">
1
</td>
<td style="text-align:right;border-left:1px solid;">
0.1111111
</td>
<td style="text-align:right;border-left:1px solid;">
0.8888889
</td>
<td style="text-align:right;border-left:1px solid;">
32.22
</td>
<td style="text-align:right;border-left:1px solid;">
436.79
</td>
<td style="text-align:right;border-left:1px solid;">
48.53222
</td>
<td style="text-align:right;border-left:1px solid;">
0.0310366
</td>
<td style="text-align:right;border-left:1px solid;">
0.22
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;border-left:1px solid;">
5
</td>
<td style="text-align:right;border-left:1px solid;">
10
</td>
<td style="text-align:right;border-left:1px solid;">
8
</td>
<td style="text-align:right;border-left:1px solid;">
0
</td>
<td style="text-align:right;border-left:1px solid;">
0.0000000
</td>
<td style="text-align:right;border-left:1px solid;">
1.0000000
</td>
<td style="text-align:right;border-left:1px solid;">
40.00
</td>
<td style="text-align:right;border-left:1px solid;">
404.57
</td>
<td style="text-align:right;border-left:1px solid;">
50.57125
</td>
<td style="text-align:right;border-left:1px solid;">
0.0000000
</td>
<td style="text-align:right;border-left:1px solid;">
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;border-left:1px solid;">
10
</td>
<td style="text-align:right;border-left:1px solid;">
20
</td>
<td style="text-align:right;border-left:1px solid;">
8
</td>
<td style="text-align:right;border-left:1px solid;">
1
</td>
<td style="text-align:right;border-left:1px solid;">
0.1250000
</td>
<td style="text-align:right;border-left:1px solid;">
0.8750000
</td>
<td style="text-align:right;border-left:1px solid;">
76.41
</td>
<td style="text-align:right;border-left:1px solid;">
364.57
</td>
<td style="text-align:right;border-left:1px solid;">
45.57125
</td>
<td style="text-align:right;border-left:1px solid;">
0.0130873
</td>
<td style="text-align:right;border-left:1px solid;">
6.41
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;border-left:1px solid;">
10
</td>
<td style="text-align:right;border-left:1px solid;">
30
</td>
<td style="text-align:right;border-left:1px solid;">
7
</td>
<td style="text-align:right;border-left:1px solid;">
1
</td>
<td style="text-align:right;border-left:1px solid;">
0.1428571
</td>
<td style="text-align:right;border-left:1px solid;">
0.8571429
</td>
<td style="text-align:right;border-left:1px solid;">
62.12
</td>
<td style="text-align:right;border-left:1px solid;">
288.16
</td>
<td style="text-align:right;border-left:1px solid;">
41.16571
</td>
<td style="text-align:right;border-left:1px solid;">
0.0160979
</td>
<td style="text-align:right;border-left:1px solid;">
2.12
</td>
</tr>
<tr>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;border-left:1px solid;">
10
</td>
<td style="text-align:right;border-left:1px solid;">
40
</td>
<td style="text-align:right;border-left:1px solid;">
6
</td>
<td style="text-align:right;border-left:1px solid;">
0
</td>
<td style="text-align:right;border-left:1px solid;">
0.0000000
</td>
<td style="text-align:right;border-left:1px solid;">
1.0000000
</td>
<td style="text-align:right;border-left:1px solid;">
60.00
</td>
<td style="text-align:right;border-left:1px solid;">
226.04
</td>
<td style="text-align:right;border-left:1px solid;">
37.67333
</td>
<td style="text-align:right;border-left:1px solid;">
0.0000000
</td>
<td style="text-align:right;border-left:1px solid;">
</td>
</tr>
<tr>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;border-left:1px solid;">
10
</td>
<td style="text-align:right;border-left:1px solid;">
50
</td>
<td style="text-align:right;border-left:1px solid;">
6
</td>
<td style="text-align:right;border-left:1px solid;">
0
</td>
<td style="text-align:right;border-left:1px solid;">
0.0000000
</td>
<td style="text-align:right;border-left:1px solid;">
1.0000000
</td>
<td style="text-align:right;border-left:1px solid;">
60.00
</td>
<td style="text-align:right;border-left:1px solid;">
166.04
</td>
<td style="text-align:right;border-left:1px solid;">
27.67333
</td>
<td style="text-align:right;border-left:1px solid;">
0.0000000
</td>
<td style="text-align:right;border-left:1px solid;">
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;border-left:1px solid;">
10
</td>
<td style="text-align:right;border-left:1px solid;">
60
</td>
<td style="text-align:right;border-left:1px solid;">
6
</td>
<td style="text-align:right;border-left:1px solid;">
1
</td>
<td style="text-align:right;border-left:1px solid;">
0.1666667
</td>
<td style="text-align:right;border-left:1px solid;">
0.8333333
</td>
<td style="text-align:right;border-left:1px solid;">
59.60
</td>
<td style="text-align:right;border-left:1px solid;">
106.04
</td>
<td style="text-align:right;border-left:1px solid;">
17.67333
</td>
<td style="text-align:right;border-left:1px solid;">
0.0167785
</td>
<td style="text-align:right;border-left:1px solid;">
9.60
</td>
</tr>
<tr>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;border-left:1px solid;">
10
</td>
<td style="text-align:right;border-left:1px solid;">
70
</td>
<td style="text-align:right;border-left:1px solid;">
5
</td>
<td style="text-align:right;border-left:1px solid;">
2
</td>
<td style="text-align:right;border-left:1px solid;">
0.4000000
</td>
<td style="text-align:right;border-left:1px solid;">
0.6000000
</td>
<td style="text-align:right;border-left:1px solid;">
36.96
</td>
<td style="text-align:right;border-left:1px solid;">
46.44
</td>
<td style="text-align:right;border-left:1px solid;">
9.28800
</td>
<td style="text-align:right;border-left:1px solid;">
0.0541126
</td>
<td style="text-align:right;border-left:1px solid;">
3.48
</td>
</tr>
<tr>
<td style="text-align:right;">
70
</td>
<td style="text-align:right;border-left:1px solid;">
10
</td>
<td style="text-align:right;border-left:1px solid;">
80
</td>
<td style="text-align:right;border-left:1px solid;">
3
</td>
<td style="text-align:right;border-left:1px solid;">
3
</td>
<td style="text-align:right;border-left:1px solid;">
1.0000000
</td>
<td style="text-align:right;border-left:1px solid;">
0.0000000
</td>
<td style="text-align:right;border-left:1px solid;">
9.48
</td>
<td style="text-align:right;border-left:1px solid;">
9.48
</td>
<td style="text-align:right;border-left:1px solid;">
3.16000
</td>
<td style="text-align:right;border-left:1px solid;">
0.3164557
</td>
<td style="text-align:right;border-left:1px solid;">
3.16
</td>
</tr>
<tr>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;border-left:1px solid;">
</td>
<td style="text-align:right;border-left:1px solid;">
</td>
<td style="text-align:right;border-left:1px solid;">
0
</td>
<td style="text-align:right;border-left:1px solid;">
0
</td>
<td style="text-align:right;border-left:1px solid;">
</td>
<td style="text-align:right;border-left:1px solid;">
</td>
<td style="text-align:right;border-left:1px solid;">
</td>
<td style="text-align:right;border-left:1px solid;">
0.00
</td>
<td style="text-align:right;border-left:1px solid;">
</td>
<td style="text-align:right;border-left:1px solid;">
</td>
<td style="text-align:right;border-left:1px solid;">
</td>
</tr>
</tbody>
</table></div>
</div>
<div id="period-life-tables" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> Period life tables<a class="anchor" aria-label="anchor" href="#period-life-tables"><i class="fas fa-link"></i></a>
</h2>
<div class="rmdimportant">
<p><strong>KEY CONCEPTS</strong></p>
<blockquote>
<p>A <strong>period life table</strong> shows what <em>would happen</em> to a cohort <em>if</em> it were subjected for all of its life to the mortality conditions of that period.</p>
<p>– PHG pg. 42 (bolding added)</p>
</blockquote>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Cohort life table</th>
<th>Period life table</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Actual cohort</td>
<td>Synthetic (aka hypothetical) cohort</td>
</tr>
<tr class="even">
<td>
<em>Records</em> cohort’s <em>real</em> experience</td>
<td>
<em>Model</em> of what <em>would</em> happen</td>
</tr>
</tbody>
</table></div>
</div>
<details><summary>
Why create a period life table, even if you have cohort data?
</summary><ul>
<li>Cohort data is unavailable:
<ul>
<li>
<strong>Example:</strong> By law, full individual-level U.S. Census records only available starting 72 years ago, reducing sample size for many sub-populations</li>
</ul>
</li>
<li>Cohort data is outdated:
<ul>
<li>
<strong>Example:</strong> <span class="math inline">\({}_{1}q_{80}\)</span> constructed this year requires data from people born 1941</li>
</ul>
</li>
<li>Cohort data is incomplete or erroneous:
<ul>
<li>
<strong>Example:</strong> Employee termination records for large front line workforce tend to be missing or incorrectly logged</li>
</ul>
</li>
</ul></details><p><br><br></p>
<details><summary>
Which of the values we’ve covered so far would be hard to come by in classic demographic data. Why?
</summary><ul>
<li>Total or average person-years lived in age intervals (don’t have exact person years)</li>
<li>Probabilities of death or survival (don’t have cohort data or separated count data)</li>
<li>Person-years lived in age interval (but can estimate using <a href="concepts-and-measures.html#estimating-person-periods">week 2</a> methods)</li>
</ul></details><p><br><br></p>
<div id="the-central-importance-of-_nq_x-and-_na_x" class="section level3 unnumbered">
<h3>The central importance of <span class="math inline">\({}_{n}q_x\)</span> and <span class="math inline">\({}_{n}a_x\)</span><a class="anchor" aria-label="anchor" href="#the-central-importance-of-_nq_x-and-_na_x"><i class="fas fa-link"></i></a>
</h3>
<p>Once you know <span class="math inline">\({}_{n}q_x\)</span>, you can calculate the rest of life table unknowns.</p>
<p>Recall that:</p>
<ul>
<li>
<span class="math inline">\({}_{n}q_x = {}_{n}d_x / l_x\)</span> (unavailable in period data)</li>
<li>
<span class="math inline">\({}_{n}L_x = n \cdot l_{x+n} + {}_{n}a_x \cdot {}_{n}d_x\)</span> (approximated from period data, but we want synthetic cohort rates under period mortality conditions)</li>
<li>
<span class="math inline">\({}_{n}m_x = {}_{n}d_x / {}_{n}L_x\)</span> (measured directly from period data)</li>
</ul>
<p>PHG pg. 43 exploits these equations to derive <span class="math inline">\({}_{n}q_x\)</span> from two life table columns <span class="math inline">\(\color{dodgerblue}{\textsf{available in period data}}\)</span> and one unknown parameter <span class="math inline">\(\color{darkorange}{\textsf{unavailable in period data}}\)</span>:</p>
<p><span class="math display" id="eq:nqxperiod">\[\begin{equation}
  \color{darkorange}{{}_{n}q_x} = \frac{
    \color{dodgerblue}{n} \cdot \color{dodgerblue}{{}_{n}{m_x}}
  }{
    1 + \left(
      \color{dodgerblue}{n} - \color{darkorange}{{}_{n}a_x}
    \right)\color{dodgerblue}{{}_{n}{m_x}}
  }
  \tag{3.1}
\end{equation}\]</span></p>
<p>If we can estimate <span class="math inline">\({}_{n}a_x\)</span>, we can estimate <span class="math inline">\({}_{n}q_x\)</span> and the rest of the period life table</p>
<p>So we need some…</p>
</div>
</div>
<div id="strategies-for-_nm_x-rightarrow-_nq_x-conversion" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> Strategies for <span class="math inline">\({}_{n}m_x\)</span> <span class="math inline">\(\rightarrow\)</span> <span class="math inline">\({}_{n}q_x\)</span> conversion<a class="anchor" aria-label="anchor" href="#strategies-for-_nm_x-rightarrow-_nq_x-conversion"><i class="fas fa-link"></i></a>
</h2>
<div id="direct-observation" class="section level3" number="3.2.1">
<h3>
<span class="header-section-number">3.2.1</span> Direct observation<a class="anchor" aria-label="anchor" href="#direct-observation"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>You can use exact ages at death to estimate <span class="math inline">\({}_{n}a_x\)</span>
</li>
<li>Yet the values are distorted by within-interval age distribution</li>
<li>So usually this is a bad idea</li>
</ul>
</div>
<div id="graduation-of-the-age-specific-mortality-rate-_nm_x-function" class="section level3" number="3.2.2">
<h3>
<span class="header-section-number">3.2.2</span> Graduation of the age-specific mortality rate (<span class="math inline">\({}_{n}m_x\)</span>) function<a class="anchor" aria-label="anchor" href="#graduation-of-the-age-specific-mortality-rate-_nm_x-function"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>If you know how <span class="math inline">\({}_{n}m_x\)</span> is changing within an age interval, you can estimate the distribution of deaths within the interval.</li>
<li>Graduation methods are based on estimates of the slopes of <span class="math inline">\({}_{n}m_x\)</span> and age structure <span class="math inline">\({}_{n}C_x\)</span> across age groups, which serve as proxies for the slopes of <span class="math inline">\({}_{n}m_x\)</span> within age groups.</li>
</ul>
<p>Let’s demonstrate the application of a graduation method<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Nathan Keyfitz and Wilhelm Flieger, &lt;span&gt;“World Population Growth and Aging”&lt;/span&gt; (Chicago: University of Chicago Press, 1990).&lt;/p&gt;"><sup>30</sup></a></span> using the R package <code>demogR</code>, including it’s <code>goodman</code> data set presenting aggregate vital registration data for women from Venezuela (1965), Madagascar (1966), and the United States (1967).</p>
<p>From the package documentation:</p>
<blockquote>
<p>For type=“kf,” the default, the first two values of nax estimated using Keyfitz and Fleiger’s (1990) regression method. For type=“cd,” Coale and Demeny’s method (1983) is used. The Coale-Demeny method uses different coefficients depending on the level of early mortality. As a result, this method may work better for high-mortality populations.</p>
</blockquote>
<p>We’ll build a life table for Venezuela 1965. In your problem set for this week, you’ll compare the results of this graduation-based life table to one <a href="life-tables-and-single-decrement-processes.html#using-rules-of-thumb">Using rules of thumb</a> below.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">goodman</span><span class="op">)</span>
<span class="va">vlt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">goodman</span>, <span class="fu">life.table</span><span class="op">(</span>x <span class="op">=</span> <span class="va">age</span>, nKx <span class="op">=</span> <span class="va">ven.nKx</span>, nDx <span class="op">=</span> <span class="va">ven.nDx</span><span class="op">)</span><span class="op">)</span>
<span class="va">vlt</span> <span class="op">%&gt;%</span>
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_classic.html">kable_paper</a></span><span class="op">(</span><span class="st">"hover"</span>, full_width <span class="op">=</span> <span class="cn">FALSE</span>, position <span class="op">=</span> <span class="st">"left"</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class=" lightable-paper lightable-hover" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; '>
<thead><tr>
<th style="text-align:right;">
x
</th>
<th style="text-align:right;">
nax
</th>
<th style="text-align:right;">
nMx
</th>
<th style="text-align:right;">
nqx
</th>
<th style="text-align:right;">
lx
</th>
<th style="text-align:right;">
ndx
</th>
<th style="text-align:right;">
nLx
</th>
<th style="text-align:right;">
Tx
</th>
<th style="text-align:right;">
ex
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.1483
</td>
<td style="text-align:right;">
0.0461
</td>
<td style="text-align:right;">
0.0443
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.0443
</td>
<td style="text-align:right;">
0.9622
</td>
<td style="text-align:right;">
67.70
</td>
<td style="text-align:right;">
67.70
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.5000
</td>
<td style="text-align:right;">
0.0057
</td>
<td style="text-align:right;">
0.0226
</td>
<td style="text-align:right;">
0.9557
</td>
<td style="text-align:right;">
0.0216
</td>
<td style="text-align:right;">
3.7687
</td>
<td style="text-align:right;">
66.74
</td>
<td style="text-align:right;">
69.84
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0012
</td>
<td style="text-align:right;">
0.0058
</td>
<td style="text-align:right;">
0.9341
</td>
<td style="text-align:right;">
0.0055
</td>
<td style="text-align:right;">
4.6568
</td>
<td style="text-align:right;">
62.97
</td>
<td style="text-align:right;">
67.41
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0007
</td>
<td style="text-align:right;">
0.0036
</td>
<td style="text-align:right;">
0.9286
</td>
<td style="text-align:right;">
0.0034
</td>
<td style="text-align:right;">
4.6347
</td>
<td style="text-align:right;">
58.31
</td>
<td style="text-align:right;">
62.80
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0011
</td>
<td style="text-align:right;">
0.0054
</td>
<td style="text-align:right;">
0.9253
</td>
<td style="text-align:right;">
0.0050
</td>
<td style="text-align:right;">
4.6138
</td>
<td style="text-align:right;">
53.68
</td>
<td style="text-align:right;">
58.01
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0013
</td>
<td style="text-align:right;">
0.0065
</td>
<td style="text-align:right;">
0.9202
</td>
<td style="text-align:right;">
0.0060
</td>
<td style="text-align:right;">
4.5863
</td>
<td style="text-align:right;">
49.07
</td>
<td style="text-align:right;">
53.32
</td>
</tr>
<tr>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0017
</td>
<td style="text-align:right;">
0.0086
</td>
<td style="text-align:right;">
0.9143
</td>
<td style="text-align:right;">
0.0079
</td>
<td style="text-align:right;">
4.5516
</td>
<td style="text-align:right;">
44.48
</td>
<td style="text-align:right;">
48.65
</td>
</tr>
<tr>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0022
</td>
<td style="text-align:right;">
0.0109
</td>
<td style="text-align:right;">
0.9064
</td>
<td style="text-align:right;">
0.0098
</td>
<td style="text-align:right;">
4.5074
</td>
<td style="text-align:right;">
39.93
</td>
<td style="text-align:right;">
44.05
</td>
</tr>
<tr>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0033
</td>
<td style="text-align:right;">
0.0163
</td>
<td style="text-align:right;">
0.8966
</td>
<td style="text-align:right;">
0.0146
</td>
<td style="text-align:right;">
4.4463
</td>
<td style="text-align:right;">
35.42
</td>
<td style="text-align:right;">
39.51
</td>
</tr>
<tr>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0042
</td>
<td style="text-align:right;">
0.0209
</td>
<td style="text-align:right;">
0.8820
</td>
<td style="text-align:right;">
0.0184
</td>
<td style="text-align:right;">
4.3639
</td>
<td style="text-align:right;">
30.97
</td>
<td style="text-align:right;">
35.12
</td>
</tr>
<tr>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0055
</td>
<td style="text-align:right;">
0.0273
</td>
<td style="text-align:right;">
0.8636
</td>
<td style="text-align:right;">
0.0236
</td>
<td style="text-align:right;">
4.2588
</td>
<td style="text-align:right;">
26.61
</td>
<td style="text-align:right;">
30.81
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0083
</td>
<td style="text-align:right;">
0.0406
</td>
<td style="text-align:right;">
0.8400
</td>
<td style="text-align:right;">
0.0341
</td>
<td style="text-align:right;">
4.1146
</td>
<td style="text-align:right;">
22.35
</td>
<td style="text-align:right;">
26.61
</td>
</tr>
<tr>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0111
</td>
<td style="text-align:right;">
0.0542
</td>
<td style="text-align:right;">
0.8059
</td>
<td style="text-align:right;">
0.0436
</td>
<td style="text-align:right;">
3.9202
</td>
<td style="text-align:right;">
18.24
</td>
<td style="text-align:right;">
22.63
</td>
</tr>
<tr>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0231
</td>
<td style="text-align:right;">
0.1090
</td>
<td style="text-align:right;">
0.7622
</td>
<td style="text-align:right;">
0.0831
</td>
<td style="text-align:right;">
3.6035
</td>
<td style="text-align:right;">
14.32
</td>
<td style="text-align:right;">
18.78
</td>
</tr>
<tr>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0214
</td>
<td style="text-align:right;">
0.1015
</td>
<td style="text-align:right;">
0.6792
</td>
<td style="text-align:right;">
0.0689
</td>
<td style="text-align:right;">
3.2235
</td>
<td style="text-align:right;">
10.71
</td>
<td style="text-align:right;">
15.77
</td>
</tr>
<tr>
<td style="text-align:right;">
70
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0338
</td>
<td style="text-align:right;">
0.1558
</td>
<td style="text-align:right;">
0.6103
</td>
<td style="text-align:right;">
0.0951
</td>
<td style="text-align:right;">
2.8136
</td>
<td style="text-align:right;">
7.49
</td>
<td style="text-align:right;">
12.27
</td>
</tr>
<tr>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.0485
</td>
<td style="text-align:right;">
0.2164
</td>
<td style="text-align:right;">
0.5152
</td>
<td style="text-align:right;">
0.1115
</td>
<td style="text-align:right;">
2.2971
</td>
<td style="text-align:right;">
4.68
</td>
<td style="text-align:right;">
9.08
</td>
</tr>
<tr>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
2.5000
</td>
<td style="text-align:right;">
0.1137
</td>
<td style="text-align:right;">
0.4426
</td>
<td style="text-align:right;">
0.4037
</td>
<td style="text-align:right;">
0.1787
</td>
<td style="text-align:right;">
1.5717
</td>
<td style="text-align:right;">
2.38
</td>
<td style="text-align:right;">
5.89
</td>
</tr>
<tr>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
3.5868
</td>
<td style="text-align:right;">
0.2788
</td>
<td style="text-align:right;">
1.0000
</td>
<td style="text-align:right;">
0.2250
</td>
<td style="text-align:right;">
0.2250
</td>
<td style="text-align:right;">
0.8070
</td>
<td style="text-align:right;">
0.81
</td>
<td style="text-align:right;">
3.59
</td>
</tr>
</tbody>
</table></div>
</div>
<div id="borrowing-average-person-years-lived-_na_x-values-from-another-population" class="section level3" number="3.2.3">
<h3>
<span class="header-section-number">3.2.3</span> Borrowing average person-years lived (<span class="math inline">\({}_{n}a_x\)</span>) values from another population<a class="anchor" aria-label="anchor" href="#borrowing-average-person-years-lived-_na_x-values-from-another-population"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>If your <span class="math inline">\({}_{n}m_x\)</span> curve is similar to another population, perhaps the <span class="math inline">\({}_{n}a_x\)</span> values are similar, too</li>
<li>The question is, how to find a similar enough model life table?</li>
<li>You’ll learn a lot more about this in <a href="https://soc.washington.edu/courses/2019/spring/soc/563/a">CS&amp;SS/SOC/STAT 563</a> (Statistical Demography &amp; Data Science).</li>
</ul>
</div>
<div id="using-rules-of-thumb" class="section level3" number="3.2.4">
<h3>
<span class="header-section-number">3.2.4</span> Using rules of thumb<a class="anchor" aria-label="anchor" href="#using-rules-of-thumb"><i class="fas fa-link"></i></a>
</h3>
<p>In this course, we’ll focus on rules of thumb. As we’ll see, it turns out that these rules of thumb are often good enough.</p>
<div id="nax-mid-period-assumption" class="section level4 unnumbered">
<h4>Assume people die on average half-way through interval (<span class="math inline">\({}_{n}a_x = n/2\)</span>)<a class="anchor" aria-label="anchor" href="#nax-mid-period-assumption"><i class="fas fa-link"></i></a>
</h4>
<p>PHG introduce this at the beginning of the period life table section, but I think it makes more sense to put it here. Under this assumption:</p>
<p><span class="math display">\[
{}_{n}q_x
  = \frac{
    n \cdot {}_{n}{m_x}
  }{
    1 + \frac{1}{2} \cdot n \cdot {}_{n}m_x
  }
  = \frac{2n \cdot {}_{n}m_x}{2 + n \cdot {}_{n}m_x}
\]</span></p>
<details><summary>
Under what conditions is this assumption exactly true?
</summary><ul>
<li>Linear growth or decline in death count during the period (remember the midpoint theorem from <a href="concepts-and-measures.html#person-periods-method3">week 1</a>)</li>
<li>Deaths distributed symmetrically about the mid-period</li>
<li>The shorter the period, the more linear the death curve, and the more reasonable this assumption</li>
</ul></details><p><br></p>
</div>
<div id="plt-constant-death-rate" class="section level4 unnumbered">
<h4>Assume constant death rate <span class="math inline">\({}_{n}m_x\)</span> throughout the interval<a class="anchor" aria-label="anchor" href="#plt-constant-death-rate"><i class="fas fa-link"></i></a>
</h4>
<p>Under this assumption:</p>
<p><span class="math display">\[
{}_{n}q_x = 1 - e^{-n \cdot {}_{n}m_x}
\]</span>
s
Equating the right hand side in the equation above to that of <a href="life-tables-and-single-decrement-processes.html#eq:nqxperiod">(3.1)</a> reveals that:</p>
<p><span class="math display">\[
{}_{n}a_x = n + \frac{1}{{}_{n}m_x} - \frac{n}{1 - e^{-n \cdot {}_{n}m_x}} &lt; n/2
\]</span></p>
<p>The final inequality means that assuming constant death rate further assumes that deaths are concentrated near the beginning of age intervals.</p>
<details><summary>
Look back at the mortality pattern covered in <a href="week2.html#week2">week 2</a>. where in the life history is the constant death rate assumption least realistic?
</summary><ul>
<li>Early childhood (rapidly declining death rate)</li>
<li>After age 30 (rapidly increasing death rate<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Oh, goodie for me!&lt;/p&gt;"><sup>31</sup></a>)</li>
</ul></details>
</div>
</div>
<div id="life-table-results-are-fairly-insensitive-to-error-in-choice-of-_na_x" class="section level3 unnumbered">
<h3>Life table results are fairly insensitive to error in choice of <span class="math inline">\({}_{n}a_x\)</span><a class="anchor" aria-label="anchor" href="#life-table-results-are-fairly-insensitive-to-error-in-choice-of-_na_x"><i class="fas fa-link"></i></a>
</h3>
<p>The re-written <span class="math inline">\({}_{n}m_x \rightarrow {}_{n}q_x\)</span> conversion equation reveals that <span class="math inline">\({}_{n}a_x\)</span> is multiplied by <span class="math inline">\({}_{n}q_x\)</span> before entering the formula</p>
<p><span class="math display">\[
{}_{n}q_x = \frac{
  n \cdot {}_{n}m_x
}{
  1 + n \cdot {}_{n}m_x - \color{red}{{}_{n}a_x \cdot {}_{n}m_x}
}
\]</span></p>
<ul>
<li>Global death rate <span class="math inline">\(\approx\)</span> 0.012</li>
<li>So an error of 2 years in one <span class="math inline">\({}_{n}a_x\)</span> means <span class="math inline">\({}_{n}q_x\)</span> off by &lt; 1%</li>
<li>i.e., a small number &lt; 1 is multiplied by another small number &lt; 1 to yield an even smaller number</li>
<li>So your choice among rules of thumb, etc., matters less than you think it does</li>
<li>But still check the robustness of your results as much as you can</li>
</ul>
</div>
</div>
<div id="the-very-young-ages" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> The very young ages<a class="anchor" aria-label="anchor" href="#the-very-young-ages"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>Life table results are very sensitive to procedures for very young age groups, where mortality rates rapidly decline and the <span class="math inline">\({}_{n}a_0 = n/2\)</span> assumption breaks down.</li>
<li>The methods cited in this part of the book are slightly outdated, but still widely used. You’ll learn a lot more about how to model very young age group mortality in <a href="https://soc.washington.edu/courses/2019/spring/soc/563/a">CS&amp;SS/SOC/STAT 563</a> (Statistical Demography &amp; Data Science).</li>
</ul>
</div>
<div id="the-open-ended-age-interval" class="section level2" number="3.4">
<h2>
<span class="header-section-number">3.4</span> The open-ended age interval<a class="anchor" aria-label="anchor" href="#the-open-ended-age-interval"><i class="fas fa-link"></i></a>
</h2>
<div class="rmdimportant">
<p><strong>KEY CONCEPT</strong></p>
<p>For the oldest age group starting with age <span class="math inline">\(x = x^*\)</span>, age interval length <span class="math inline">\(n = \infty\)</span>. This age group is called the <strong>open-ended interval</strong>.</p>
<p>Ideally, choose <span class="math inline">\(x^*\)</span> so that a very small fraction of individuals survive to it</p>
</div>
<p>Because <span class="math inline">\(n = \infty\)</span>:</p>
<ul>
<li>
<span class="math inline">\({}_{\infty}q_{x^*} = 1\)</span> (“In the end, we’re all dead.”)</li>
<li>
<span class="math inline">\({}_{\infty}p_{x^*} = 1 - {}_{\infty}q_{x^*}= 0\)</span> (In the end, none of us lives.)</li>
<li>
<span class="math inline">\({}_{\infty}d_{x^*} = l_{x^*}\)</span> (Good to know since we can’t observe who dies after <span class="math inline">\(\infty\)</span> years)</li>
</ul>
<p>Recall that:</p>
<p><span class="math display">\[
{}_{\infty}m_{x^*} = \frac{
  {}_{\infty}d_{x^*}
}{
  {}_{\infty}L_{x^*}
} \rightarrow {}_{\infty}L_{x^*} = \frac{
  {}_{\infty}d_{x^*}
}{
  {}_{\infty}m_{x^*}
}
\]</span></p>
<p>Plugging in <span class="math inline">\({}_{\infty}d_{x^*} = l_{x^*}\)</span>:</p>
<p><span class="math display">\[
{}_{\infty}L_{x^*} = \frac{l_{x^*}}{{}_{\infty}m_{x^*}}
\]</span></p>
<p>Both numerator and denominator are things we can observe within a period.</p>

</div>
<div id="review-of-the-steps-for-period-life-table-construction" class="section level2" number="3.5">
<h2>
<span class="header-section-number">3.5</span> Review of the steps for period life table construction<a class="anchor" aria-label="anchor" href="#review-of-the-steps-for-period-life-table-construction"><i class="fas fa-link"></i></a>
</h2>
<p>Let’s walk through the steps of life table construction using the <code>tidyverse</code> in R and data on age-specific mortality in Ukraine in 2013.</p>
<p>Here’s the data:</p>
<div class="inline-table"><table class=" lightable-paper lightable-hover" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; '>
<thead><tr>
<th style="text-align:right;">
x
</th>
<th style="text-align:right;">
nmx
</th>
<th style="text-align:right;">
nx
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.007944
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.000356
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.000188
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0.000242
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
0.000585
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
0.000995
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
0.001631
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
0.002710
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
0.003953
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
0.004959
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
0.006789
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.009500
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
0.013552
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
0.020463
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
0.027443
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
70
</td>
<td style="text-align:right;">
0.042396
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
0.064624
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
0.106022
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
0.166193
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0.253785
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
0.378184
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.412131
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
105
</td>
<td style="text-align:right;">
0.500136
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
110
</td>
<td style="text-align:right;">
1.368043
</td>
<td style="text-align:right;">
</td>
</tr>
</tbody>
</table></div>
<div id="step-1-adopt-a-set-of-_na_x-values" class="section level3 unnumbered">
<h3>Step 1: Adopt a set of <span class="math inline">\({}_{n}a_x\)</span> values<a class="anchor" aria-label="anchor" href="#step-1-adopt-a-set-of-_na_x-values"><i class="fas fa-link"></i></a>
</h3>
<p>For simplicity, we’ll adopt the <a href="life-tables-and-single-decrement-processes.html#plt-constant-death-rate">constant death rate</a> assumption, which means:</p>
<p><span class="math display">\[
{}_{n}a_x = n + \frac{1}{{}_{n}m_x} - \frac{n}{1 - e^{-n \cdot {}_{n}m_x}}
\]</span></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ukr_plt_5x1_2013</span> <span class="op">&lt;-</span> <span class="va">ukr_mx_5x1_2013</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>nax <span class="op">=</span> <span class="va">nx</span> <span class="op">+</span> <span class="op">(</span><span class="va">nmx</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op">-</span> <span class="op">(</span><span class="va">nx</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">nx</span> <span class="op">*</span> <span class="va">nmx</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="step-2-convert-_nm_x-to-_nq_x" class="section level3 unnumbered">
<h3>Step 2: Convert <span class="math inline">\({}_{n}m_x\)</span> to <span class="math inline">\({}_{n}q_x\)</span><a class="anchor" aria-label="anchor" href="#step-2-convert-_nm_x-to-_nq_x"><i class="fas fa-link"></i></a>
</h3>
<p>Under our rule of thumb:</p>
<p><span class="math display">\[
{}_{n}q_x = 1 - e^{-n \cdot {}_{n}m_x}
\]</span>
In code:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ukr_plt_5x1_2013</span> <span class="op">&lt;-</span> <span class="va">ukr_plt_5x1_2013</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>
    nx <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/lead-lag.html">lead</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">-</span> <span class="va">x</span>,
    nqx <span class="op">=</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">nx</span><span class="op">*</span><span class="va">nmx</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co"># Assume constant death rate in interval</span>
      <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/coalesce.html">coalesce</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
  <span class="op">)</span></code></pre></div>
</div>
<div id="step-3-compute-_np_x-1---_nq_x" class="section level3 unnumbered">
<h3>Step 3: Compute <span class="math inline">\({}_{n}p_x = 1 - {}_{n}q_x\)</span><a class="anchor" aria-label="anchor" href="#step-3-compute-_np_x-1---_nq_x"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ukr_plt_5x1_2013</span> <span class="op">&lt;-</span> <span class="va">ukr_plt_5x1_2013</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>npx <span class="op">=</span> <span class="fl">1</span> <span class="op">-</span> <span class="va">nqx</span><span class="op">)</span></code></pre></div>
</div>
<div id="step-4-choose-a-radix-l_0" class="section level3 unnumbered">
<h3>Step 4: Choose a <em>radix</em> <span class="math inline">\(l_0\)</span><a class="anchor" aria-label="anchor" href="#step-4-choose-a-radix-l_0"><i class="fas fa-link"></i></a>
</h3>
<p>By setting an arbitrary starting population size, you can calculate the remaining columns from what you’ve computed so far. It doesn’t really matter what the radix is, so long as it is positive.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">l0</span> <span class="op">&lt;-</span> <span class="fl">1</span></code></pre></div>
</div>
<div id="step-5-compute-the-remaining-l_x-values-from-_np_x-values" class="section level3 unnumbered">
<h3>Step 5: Compute the remaining <span class="math inline">\(l_x\)</span> values from <span class="math inline">\({}_{n}p_x\)</span> values<a class="anchor" aria-label="anchor" href="#step-5-compute-the-remaining-l_x-values-from-_np_x-values"><i class="fas fa-link"></i></a>
</h3>
<p><span class="math display">\[
l_1 = l_0 \times {}_{1}p_0 \\
l_5 = l_1 \times {}_{4}p_1 \\
\vdots
\]</span>
In code, these requires iteration:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lx</span> <span class="op">&lt;-</span> <span class="va">l0</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">ukr_plt_5x1_2013</span><span class="op">$</span><span class="va">x</span>
<span class="va">npx</span> <span class="op">&lt;-</span> <span class="va">ukr_plt_5x1_2013</span><span class="op">$</span><span class="va">npx</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">a</span> <span class="kw">in</span> <span class="va">x</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">l</span> <span class="op">&lt;-</span> <span class="va">lx</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="va">a</span><span class="op">)</span><span class="op">]</span> <span class="op">*</span> <span class="va">npx</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="va">a</span><span class="op">)</span><span class="op">]</span>
  <span class="va">lx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">lx</span>, <span class="va">l</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">ukr_plt_5x1_2013</span><span class="op">$</span><span class="va">lx</span> <span class="op">&lt;-</span> <span class="va">lx</span></code></pre></div>
</div>
<div id="step-6-derive-_nd_x-as-l_x---lxn-or-l_x-_nq_x" class="section level3 unnumbered">
<h3>Step 6: Derive <span class="math inline">\({}_{n}d_x\)</span> as <span class="math inline">\(l_x - l{x+n}\)</span> or <span class="math inline">\(l_x * {}_{n}q_x\)</span><a class="anchor" aria-label="anchor" href="#step-6-derive-_nd_x-as-l_x---lxn-or-l_x-_nq_x"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ukr_plt_5x1_2013</span> <span class="op">&lt;-</span> <span class="va">ukr_plt_5x1_2013</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>ndx <span class="op">=</span> <span class="va">lx</span> <span class="op">*</span> <span class="va">nqx</span><span class="op">)</span></code></pre></div>
</div>
<div id="step-7-derive-person-years-lived-between-ages-x-and-xn" class="section level3 unnumbered">
<h3>Step 7: Derive person-years lived between ages <span class="math inline">\(x\)</span> and <span class="math inline">\(x+n\)</span><a class="anchor" aria-label="anchor" href="#step-7-derive-person-years-lived-between-ages-x-and-xn"><i class="fas fa-link"></i></a>
</h3>
<p>Recall that:</p>
<p><span class="math display">\[{}_{n}L_x = n \cdot l_{x+n} + {}_{n}a_x * {}_{n}d_x\]</span></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ukr_plt_5x1_2013</span> <span class="op">&lt;-</span> <span class="va">ukr_plt_5x1_2013</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>nLx <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span>
    <span class="va">nqx</span> <span class="op">!=</span> <span class="fl">1</span> <span class="op">~</span> <span class="va">nx</span> <span class="op">*</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/lead-lag.html">lead</a></span><span class="op">(</span><span class="va">lx</span><span class="op">)</span> <span class="op">+</span> <span class="va">nax</span> <span class="op">*</span> <span class="va">ndx</span>,
    <span class="va">nqx</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="va">lx</span> <span class="op">/</span> <span class="va">nmx</span>
  <span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="step-8-derive-t_x-sum_a1infty-_nl_x" class="section level3 unnumbered">
<h3>Step 8: Derive <span class="math inline">\(T_x = \sum_{a=1}^\infty {}_{n}L_x\)</span><a class="anchor" aria-label="anchor" href="#step-8-derive-t_x-sum_a1infty-_nl_x"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ukr_plt_5x1_2013</span> <span class="op">&lt;-</span> <span class="va">ukr_plt_5x1_2013</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Tx <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="va">nLx</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/coalesce.html">coalesce</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="step-9-derive-life-expectancy-e0_x-at-age-x" class="section level3 unnumbered">
<h3>Step 9: Derive life expectancy <span class="math inline">\(e^0_x\)</span> at age <span class="math inline">\(x\)</span><a class="anchor" aria-label="anchor" href="#step-9-derive-life-expectancy-e0_x-at-age-x"><i class="fas fa-link"></i></a>
</h3>
<p>Recall that <span class="math inline">\(e^0_x = T_x/l_x\)</span></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ukr_plt_5x1_2013</span> <span class="op">&lt;-</span> <span class="va">ukr_plt_5x1_2013</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>e0x <span class="op">=</span> <span class="va">Tx</span><span class="op">/</span><span class="va">lx</span><span class="op">)</span></code></pre></div>
<p>Let’s take a look at our constructed period life table for Ukraine 2013.</p>
<div class="inline-table"><table class=" lightable-paper lightable-hover" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; '>
<thead><tr>
<th style="text-align:right;">
x
</th>
<th style="text-align:right;">
nmx
</th>
<th style="text-align:right;">
nax
</th>
<th style="text-align:right;">
nqx
</th>
<th style="text-align:right;">
npx
</th>
<th style="text-align:right;">
lx
</th>
<th style="text-align:right;">
ndx
</th>
<th style="text-align:right;">
nLx
</th>
<th style="text-align:right;">
Tx
</th>
<th style="text-align:right;">
e0x
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.007944
</td>
<td style="text-align:right;">
0.499338
</td>
<td style="text-align:right;">
0.0079125
</td>
<td style="text-align:right;">
0.9920875
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.0079125
</td>
<td style="text-align:right;">
0.9960385
</td>
<td style="text-align:right;">
71.2809009
</td>
<td style="text-align:right;">
71.2809009
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.000356
</td>
<td style="text-align:right;">
1.999525
</td>
<td style="text-align:right;">
0.0014230
</td>
<td style="text-align:right;">
0.9985770
</td>
<td style="text-align:right;">
0.9920875
</td>
<td style="text-align:right;">
0.0014117
</td>
<td style="text-align:right;">
3.9655258
</td>
<td style="text-align:right;">
70.2848624
</td>
<td style="text-align:right;">
70.8454290
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.000188
</td>
<td style="text-align:right;">
2.499608
</td>
<td style="text-align:right;">
0.0009396
</td>
<td style="text-align:right;">
0.9990604
</td>
<td style="text-align:right;">
0.9906757
</td>
<td style="text-align:right;">
0.0009308
</td>
<td style="text-align:right;">
4.9510514
</td>
<td style="text-align:right;">
66.3193366
</td>
<td style="text-align:right;">
66.9435354
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0.000242
</td>
<td style="text-align:right;">
2.499496
</td>
<td style="text-align:right;">
0.0012093
</td>
<td style="text-align:right;">
0.9987907
</td>
<td style="text-align:right;">
0.9897449
</td>
<td style="text-align:right;">
0.0011969
</td>
<td style="text-align:right;">
4.9457320
</td>
<td style="text-align:right;">
61.3682853
</td>
<td style="text-align:right;">
62.0041411
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
0.000585
</td>
<td style="text-align:right;">
2.498781
</td>
<td style="text-align:right;">
0.0029207
</td>
<td style="text-align:right;">
0.9970793
</td>
<td style="text-align:right;">
0.9885481
</td>
<td style="text-align:right;">
0.0028873
</td>
<td style="text-align:right;">
4.9355187
</td>
<td style="text-align:right;">
56.4225533
</td>
<td style="text-align:right;">
57.0761853
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
0.000995
</td>
<td style="text-align:right;">
2.497927
</td>
<td style="text-align:right;">
0.0049626
</td>
<td style="text-align:right;">
0.9950374
</td>
<td style="text-align:right;">
0.9856608
</td>
<td style="text-align:right;">
0.0048915
</td>
<td style="text-align:right;">
4.9160651
</td>
<td style="text-align:right;">
51.4870346
</td>
<td style="text-align:right;">
52.2360579
</td>
</tr>
<tr>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
0.001631
</td>
<td style="text-align:right;">
2.496602
</td>
<td style="text-align:right;">
0.0081218
</td>
<td style="text-align:right;">
0.9918782
</td>
<td style="text-align:right;">
0.9807693
</td>
<td style="text-align:right;">
0.0079656
</td>
<td style="text-align:right;">
4.8839054
</td>
<td style="text-align:right;">
46.5709695
</td>
<td style="text-align:right;">
47.4841217
</td>
</tr>
<tr>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
0.002710
</td>
<td style="text-align:right;">
2.494354
</td>
<td style="text-align:right;">
0.0134586
</td>
<td style="text-align:right;">
0.9865414
</td>
<td style="text-align:right;">
0.9728037
</td>
<td style="text-align:right;">
0.0130926
</td>
<td style="text-align:right;">
4.8312129
</td>
<td style="text-align:right;">
41.6870641
</td>
<td style="text-align:right;">
42.8524949
</td>
</tr>
<tr>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
0.003953
</td>
<td style="text-align:right;">
2.491765
</td>
<td style="text-align:right;">
0.0195710
</td>
<td style="text-align:right;">
0.9804290
</td>
<td style="text-align:right;">
0.9597111
</td>
<td style="text-align:right;">
0.0187825
</td>
<td style="text-align:right;">
4.7514446
</td>
<td style="text-align:right;">
36.8558512
</td>
<td style="text-align:right;">
38.4030694
</td>
</tr>
<tr>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
0.004959
</td>
<td style="text-align:right;">
2.489669
</td>
<td style="text-align:right;">
0.0244901
</td>
<td style="text-align:right;">
0.9755099
</td>
<td style="text-align:right;">
0.9409286
</td>
<td style="text-align:right;">
0.0230435
</td>
<td style="text-align:right;">
4.6467964
</td>
<td style="text-align:right;">
32.1044066
</td>
<td style="text-align:right;">
34.1199173
</td>
</tr>
<tr>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
0.006789
</td>
<td style="text-align:right;">
2.485857
</td>
<td style="text-align:right;">
0.0333753
</td>
<td style="text-align:right;">
0.9666247
</td>
<td style="text-align:right;">
0.9178852
</td>
<td style="text-align:right;">
0.0306347
</td>
<td style="text-align:right;">
4.5124057
</td>
<td style="text-align:right;">
27.4576102
</td>
<td style="text-align:right;">
29.9139932
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.009500
</td>
<td style="text-align:right;">
2.480209
</td>
<td style="text-align:right;">
0.0463895
</td>
<td style="text-align:right;">
0.9536105
</td>
<td style="text-align:right;">
0.8872504
</td>
<td style="text-align:right;">
0.0411591
</td>
<td style="text-align:right;">
4.3325398
</td>
<td style="text-align:right;">
22.9452046
</td>
<td style="text-align:right;">
25.8610238
</td>
</tr>
<tr>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
0.013552
</td>
<td style="text-align:right;">
2.471769
</td>
<td style="text-align:right;">
0.0655153
</td>
<td style="text-align:right;">
0.9344847
</td>
<td style="text-align:right;">
0.8460913
</td>
<td style="text-align:right;">
0.0554319
</td>
<td style="text-align:right;">
4.0903119
</td>
<td style="text-align:right;">
18.6126648
</td>
<td style="text-align:right;">
21.9984116
</td>
</tr>
<tr>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
0.020463
</td>
<td style="text-align:right;">
2.457376
</td>
<td style="text-align:right;">
0.0972549
</td>
<td style="text-align:right;">
0.9027451
</td>
<td style="text-align:right;">
0.7906594
</td>
<td style="text-align:right;">
0.0768955
</td>
<td style="text-align:right;">
3.7577807
</td>
<td style="text-align:right;">
14.5223529
</td>
<td style="text-align:right;">
18.3673943
</td>
</tr>
<tr>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
0.027443
</td>
<td style="text-align:right;">
2.442845
</td>
<td style="text-align:right;">
0.1282172
</td>
<td style="text-align:right;">
0.8717828
</td>
<td style="text-align:right;">
0.7137639
</td>
<td style="text-align:right;">
0.0915168
</td>
<td style="text-align:right;">
3.3347969
</td>
<td style="text-align:right;">
10.7645722
</td>
<td style="text-align:right;">
15.0814180
</td>
</tr>
<tr>
<td style="text-align:right;">
70
</td>
<td style="text-align:right;">
0.042396
</td>
<td style="text-align:right;">
2.411741
</td>
<td style="text-align:right;">
0.1910191
</td>
<td style="text-align:right;">
0.8089809
</td>
<td style="text-align:right;">
0.6222471
</td>
<td style="text-align:right;">
0.1188611
</td>
<td style="text-align:right;">
2.8035922
</td>
<td style="text-align:right;">
7.4297753
</td>
<td style="text-align:right;">
11.9402329
</td>
</tr>
<tr>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
0.064624
</td>
<td style="text-align:right;">
2.365600
</td>
<td style="text-align:right;">
0.2761130
</td>
<td style="text-align:right;">
0.7238870
</td>
<td style="text-align:right;">
0.5033860
</td>
<td style="text-align:right;">
0.1389914
</td>
<td style="text-align:right;">
2.1507711
</td>
<td style="text-align:right;">
4.6261831
</td>
<td style="text-align:right;">
9.1901305
</td>
</tr>
<tr>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
0.106022
</td>
<td style="text-align:right;">
2.280149
</td>
<td style="text-align:right;">
0.4114598
</td>
<td style="text-align:right;">
0.5885402
</td>
<td style="text-align:right;">
0.3643946
</td>
<td style="text-align:right;">
0.1499337
</td>
<td style="text-align:right;">
1.4141754
</td>
<td style="text-align:right;">
2.4754120
</td>
<td style="text-align:right;">
6.7932186
</td>
</tr>
<tr>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
0.166193
</td>
<td style="text-align:right;">
2.157685
</td>
<td style="text-align:right;">
0.5643713
</td>
<td style="text-align:right;">
0.4356287
</td>
<td style="text-align:right;">
0.2144609
</td>
<td style="text-align:right;">
0.1210356
</td>
<td style="text-align:right;">
0.7282831
</td>
<td style="text-align:right;">
1.0612366
</td>
<td style="text-align:right;">
4.9483926
</td>
</tr>
<tr>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0.253785
</td>
<td style="text-align:right;">
1.984947
</td>
<td style="text-align:right;">
0.7188663
</td>
<td style="text-align:right;">
0.2811337
</td>
<td style="text-align:right;">
0.0934253
</td>
<td style="text-align:right;">
0.0671603
</td>
<td style="text-align:right;">
0.2646347
</td>
<td style="text-align:right;">
0.3329534
</td>
<td style="text-align:right;">
3.5638463
</td>
</tr>
<tr>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
0.378184
</td>
<td style="text-align:right;">
1.755400
</td>
<td style="text-align:right;">
0.8490671
</td>
<td style="text-align:right;">
0.1509329
</td>
<td style="text-align:right;">
0.0262650
</td>
<td style="text-align:right;">
0.0223007
</td>
<td style="text-align:right;">
0.0589680
</td>
<td style="text-align:right;">
0.0683188
</td>
<td style="text-align:right;">
2.6011336
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.412131
</td>
<td style="text-align:right;">
1.696604
</td>
<td style="text-align:right;">
0.8726295
</td>
<td style="text-align:right;">
0.1273705
</td>
<td style="text-align:right;">
0.0039643
</td>
<td style="text-align:right;">
0.0034593
</td>
<td style="text-align:right;">
0.0083937
</td>
<td style="text-align:right;">
0.0093508
</td>
<td style="text-align:right;">
2.3587780
</td>
</tr>
<tr>
<td style="text-align:right;">
105
</td>
<td style="text-align:right;">
0.500136
</td>
<td style="text-align:right;">
1.552660
</td>
<td style="text-align:right;">
0.9179708
</td>
<td style="text-align:right;">
0.0820292
</td>
<td style="text-align:right;">
0.0005049
</td>
<td style="text-align:right;">
0.0004635
</td>
<td style="text-align:right;">
0.0009268
</td>
<td style="text-align:right;">
0.0009570
</td>
<td style="text-align:right;">
1.8954033
</td>
</tr>
<tr>
<td style="text-align:right;">
110
</td>
<td style="text-align:right;">
1.368043
</td>
<td style="text-align:right;">
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
0.0000414
</td>
<td style="text-align:right;">
0.0000414
</td>
<td style="text-align:right;">
0.0000303
</td>
<td style="text-align:right;">
0.0000303
</td>
<td style="text-align:right;">
0.7309712
</td>
</tr>
</tbody>
</table></div>
<p>And do a quick sanity check using key figures from the Human Mortality Database’s (much more sophisticated) life table for Ukraine 2013:</p>
<div class="inline-table"><table class=" lightable-paper lightable-hover" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; '>
<thead><tr>
<th style="text-align:right;">
Age
</th>
<th style="text-align:right;">
qx
</th>
<th style="text-align:right;">
Lx
</th>
<th style="text-align:right;">
ex
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.00789
</td>
<td style="text-align:right;">
99316
</td>
<td style="text-align:right;">
71.35
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.00142
</td>
<td style="text-align:right;">
396498
</td>
<td style="text-align:right;">
70.92
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.00094
</td>
<td style="text-align:right;">
495107
</td>
<td style="text-align:right;">
67.02
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0.00120
</td>
<td style="text-align:right;">
494617
</td>
<td style="text-align:right;">
62.08
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
0.00287
</td>
<td style="text-align:right;">
493672
</td>
<td style="text-align:right;">
57.15
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
0.00492
</td>
<td style="text-align:right;">
491741
</td>
<td style="text-align:right;">
52.31
</td>
</tr>
<tr>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
0.00810
</td>
<td style="text-align:right;">
488598
</td>
<td style="text-align:right;">
47.55
</td>
</tr>
<tr>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
0.01353
</td>
<td style="text-align:right;">
483445
</td>
<td style="text-align:right;">
42.92
</td>
</tr>
<tr>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
0.01959
</td>
<td style="text-align:right;">
475339
</td>
<td style="text-align:right;">
38.47
</td>
</tr>
<tr>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
0.02455
</td>
<td style="text-align:right;">
464934
</td>
<td style="text-align:right;">
34.19
</td>
</tr>
<tr>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
0.03331
</td>
<td style="text-align:right;">
451602
</td>
<td style="text-align:right;">
29.98
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.04636
</td>
<td style="text-align:right;">
433842
</td>
<td style="text-align:right;">
25.93
</td>
</tr>
<tr>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
0.06578
</td>
<td style="text-align:right;">
409732
</td>
<td style="text-align:right;">
22.06
</td>
</tr>
<tr>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
0.09757
</td>
<td style="text-align:right;">
376917
</td>
<td style="text-align:right;">
18.43
</td>
</tr>
<tr>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
0.13077
</td>
<td style="text-align:right;">
334503
</td>
<td style="text-align:right;">
15.14
</td>
</tr>
<tr>
<td style="text-align:right;">
70
</td>
<td style="text-align:right;">
0.18811
</td>
<td style="text-align:right;">
282149
</td>
<td style="text-align:right;">
12.02
</td>
</tr>
<tr>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
0.28547
</td>
<td style="text-align:right;">
216305
</td>
<td style="text-align:right;">
9.20
</td>
</tr>
<tr>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
0.41279
</td>
<td style="text-align:right;">
142688
</td>
<td style="text-align:right;">
6.86
</td>
</tr>
<tr>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
0.58088
</td>
<td style="text-align:right;">
73044
</td>
<td style="text-align:right;">
4.94
</td>
</tr>
<tr>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
0.74529
</td>
<td style="text-align:right;">
25483
</td>
<td style="text-align:right;">
3.53
</td>
</tr>
<tr>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
0.86806
</td>
<td style="text-align:right;">
5170
</td>
<td style="text-align:right;">
2.54
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.93923
</td>
<td style="text-align:right;">
540
</td>
<td style="text-align:right;">
1.91
</td>
</tr>
<tr>
<td style="text-align:right;">
105
</td>
<td style="text-align:right;">
0.97189
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
1.52
</td>
</tr>
<tr>
<td style="text-align:right;">
110
</td>
<td style="text-align:right;">
1.00000
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.32
</td>
</tr>
</tbody>
</table></div>
<div class="rmdtip">
<p><strong>KEY CONCEPT</strong></p>
<p>We worked through a life table with five-year age intervals.</p>
<p>A life table with one-year age intervals is often called a <strong>complete life table</strong></p>
</div>
</div>
<div id="visualizing-life-table-columns" class="section level3 unnumbered">
<h3>Visualizing life table columns<a class="anchor" aria-label="anchor" href="#visualizing-life-table-columns"><i class="fas fa-link"></i></a>
</h3>
<div class="figure">
<img src="images/visualizing-life-table-columns.png" alt=""><p class="caption">From PHG pg. 52</p>
</div>
</div>
</div>
<div id="interpreting-the-life-table" class="section level2" number="3.6">
<h2>
<span class="header-section-number">3.6</span> Interpreting the life table<a class="anchor" aria-label="anchor" href="#interpreting-the-life-table"><i class="fas fa-link"></i></a>
</h2>
<p>You can combine column values at different ages in meaningful ways:</p>
<ul>
<li>
<span class="math inline">\(l_y / l_x = {}_{y-x}p_x\)</span>: Probability of surviving from age <span class="math inline">\(x\)</span> to age <span class="math inline">\(y\)</span>
<ul>
<li>
<strong>Special case:</strong> <span class="math inline">\(p(x) = l_x/l_0\)</span> is probability of surviving from birth to age <span class="math inline">\(x\)</span>
</li>
</ul>
</li>
<li>
<span class="math inline">\(1 - l_y/l_x = {}_{y-x}q_x\)</span> Probability of dying between ages <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>
<ul>
<li>
<strong>Special case:</strong> <span class="math inline">\(1 - p(x) = 1 - l_x/l_0 = {}_{x}d_0/l_0\)</span> is the cumulative probability of dying before reaching age <span class="math inline">\(x\)</span>
</li>
</ul>
</li>
<li>
<span class="math inline">\(\left(l_y - l_z\right)/l_x\)</span>: Probability that one who reaches age <span class="math inline">\(x\)</span> dies between ages <span class="math inline">\(z\)</span> and <span class="math inline">\(y\)</span>
<ul>
<li>
<strong>Special case:</strong> <span class="math inline">\(\left(l_y - l_x\right)/l_0\)</span> Probability that someone born will die between ages <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>
</li>
</ul>
</li>
<li>
<span class="math inline">\(\left(T_y - T_z\right)/l_x\)</span>: Expected person years lived between ages <span class="math inline">\(y\)</span> and <span class="math inline">\(z\)</span> by someone who reaches age <span class="math inline">\(x\)</span>
</li>
</ul>
<p>You’ll be asked about these and more in the problem set</p>
</div>
<div id="the-life-table-conceived-as-a-stationary-population" class="section level2" number="3.7">
<h2>
<span class="header-section-number">3.7</span> The life table conceived as a stationary population<a class="anchor" aria-label="anchor" href="#the-life-table-conceived-as-a-stationary-population"><i class="fas fa-link"></i></a>
</h2>
<div class="rmdimportant">
<p><strong>KEY CONCEPT</strong></p>
<p>A <strong>stationary population</strong> meets the following demographic conditions:</p>
<ol style="list-style-type: decimal">
<li>Constant age-specific death rates over time</li>
<li>Constant flow of births</li>
<li>Age-specific net migration rates are zero</li>
</ol>
<p>We’ll see how these conditions result in zero population growth.</p>
</div>
<p>Interpreting life table columns in a stationary population:</p>
<ul>
<li>
<span class="math inline">\(l_x = l_0 \cdot {}_{x}p_0\)</span>: Number of persons who reach age <span class="math inline">\(x\)</span> in any calendar year</li>
<li>
<span class="math inline">\({}_{n}L_x\)</span>: Number of persons alive at any point in time between ages <span class="math inline">\(x\)</span> and <span class="math inline">\(x+n\)</span>
</li>
<li>
<span class="math inline">\(T_x\)</span>: Number of persons alive at any point in time above age <span class="math inline">\(x\)</span>, so that <span class="math inline">\(T_0\)</span> is total population size</li>
<li>
<span class="math inline">\({}_{n}d_x\)</span>: Annual number of deaths between ages <span class="math inline">\(x\)</span> and <span class="math inline">\(x+n\)</span>
</li>
<li>
<span class="math inline">\(e_0^0\)</span>: Mean age at death for persons dying in any particular year<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;For recently published additional caveats to the interpretation of average lifespan in stationary populations, see Wrigley-Field and Feehan 2021: &lt;a href="https://read.dukeupress.edu/demography/article/doi/10.1215/00703370-9639692/293327/In-a-Stationary-Population-the-Average-Lifespan-of" class="uri"&gt;https://read.dukeupress.edu/demography/article/doi/10.1215/00703370-9639692/293327/In-a-Stationary-Population-the-Average-Lifespan-of&lt;/a&gt;&lt;/p&gt;'><sup>32</sup></a>
</li>
</ul>
<p>Other useful results <strong>specific to a stationary population</strong>:</p>
<ul>
<li><span class="math inline">\(CBR = CDR = 1/e^0_0\)</span></li>
<li>Death rate above age <span class="math inline">\(x\)</span>: <span class="math inline">\({}_{\infty}M_{x} = 1/e_x^0\)</span>
</li>
<li>Age structure <span class="math inline">\({}_{n}C_x = {}_{n}L_x/T_0 \approx \frac{l_{x+n/2}}{l_0} \cdot n \cdot CBR\)</span>
</li>
</ul>
<p>Why are these results useful:</p>
<ul>
<li>You can use them to calculate missing demographic statistics from those you have</li>
<li>They’re often approximately correct even in a non-stationary population, at least one that grows slowly, or is not observed for too long</li>
<li>But be careful, especially with the assumption that <span class="math inline">\(e_0^0\)</span> is mean age at death</li>
</ul>
</div>
<div id="mortality-as-a-continuous-process" class="section level2" number="3.8">
<h2>
<span class="header-section-number">3.8</span> Mortality as a continuous process<a class="anchor" aria-label="anchor" href="#mortality-as-a-continuous-process"><i class="fas fa-link"></i></a>
</h2>
<div class="rmdimportant">
<p><strong>KEY CONCEPT</strong></p>
<p><strong>Force of mortality</strong>: The mortality rate measured over an infinitesimally small amount of time.</p>
<p><span class="math display">\[
\mu(x) = \lim_{n \rightarrow 0}\left[\frac{l(x) - l(x+n)}{n \cdot l(x)}\right] = \frac{-d\text{ln(l(x))}}{dx}
\]</span></p>
</div>
<p>From the force of mortality, we find that:</p>
<p><span class="math display">\[
l(z) = l(y)e^{-\int_y^z \mu(x)dx}
\]</span></p>
<p>Very important finding here: The proportion change in cohort size between two ages is completely a function of the sum of the force of mortality between those two ages. Look familiar?</p>
<p>PHG go on to define continuous equivalents of other life table columns</p>
</div>
<div id="life-table-construction-revisited" class="section level2" number="3.9">
<h2>
<span class="header-section-number">3.9</span> Life table construction revisited<a class="anchor" aria-label="anchor" href="#life-table-construction-revisited"><i class="fas fa-link"></i></a>
</h2>
<p>This section of PHG is fairly advanced. It’s main contribution is that it warns that using the observed period mortality rate schedule <span class="math inline">\({}_{n}M_x\)</span> to approximate the cohort rate schedule <span class="math inline">\({}_{n}n_x\)</span> can sometime lead to distortions.</p>
<p>Other than mentioning this, we won’t cover it in class.</p>
</div>
<div id="decomposing-a-difference-in-life-expectancies" class="section level2" number="3.10">
<h2>
<span class="header-section-number">3.10</span> Decomposing a difference in life expectancies<a class="anchor" aria-label="anchor" href="#decomposing-a-difference-in-life-expectancies"><i class="fas fa-link"></i></a>
</h2>
<p>The difference between two life expectancies at birth <span class="math inline">\(e^0_0(2) - e_0^0(1)\)</span> can be decomposed into separate contributions <span class="math inline">\({}_{n}\Delta_x\)</span> from each age group:</p>
<p><span class="math display">\[
e^0_0(2) - e_0^0(1) = \sum_0^\infty {}_{n}\Delta_xx
\]</span></p>
<p>An age-specific difference contribution <span class="math inline">\({}_{n}\Delta_x\)</span> can itself be decomposed into two main components:</p>
<p><span class="math display">\[{}_{n}\Delta_x = \frac{l_x^1}{l_0^1} \cdot \left(\frac{{}_{n}L_x^2}{l_x^2} - \frac{{}_{n}L_x^1}{l_x^1}\right) + \frac{T^2_{x+n}}{l_0^1} \cdot \left(\frac{l_x^1}{l_0^2} - \frac{l_{x+n}^1}{l_{x+n}^2}\right)\]</span></p>
<ul>
<li>
<span class="math inline">\(\frac{l_x^1}{l_0^1} \cdot \left(\frac{{}_{n}L_x^2}{l_x^2} - \frac{{}_{n}L_x^1}{l_x^1}\right)\)</span> is the <strong>direct effect</strong> of the change in mortality rates between ages <span class="math inline">\(x\)</span> and <span class="math inline">\(x+n\)</span> on life expectancy at birth.</li>
<li>
<span class="math inline">\(\frac{T^2_{x+n}}{l_0^1} \cdot \left(\frac{l_x^1}{l_0^2} - \frac{l_{x+n}^1}{l_{x+n}^2}\right)\)</span> are the <strong>indirect effect</strong> and <strong>interaction effects</strong> resulting from future person-years to be added (or subtracted) because additional (or fewer) survivors at age <span class="math inline">\(x+n\)</span> are exposed to new mortality conditions.</li>
<li>The open-ended interval has no indirect effects because there are no future age groups to observe, thus <span class="math inline">\({}_{\infty}\Delta_x = \frac{l_x^1}{l_0^1} \cdot \left(\frac{T_x^2}{l_x^2} - \frac{T_x^1}{l_x^1}\right)\)</span>
</li>
<li>These results could be extended to any life expectancy <span class="math inline">\(e_a^0\)</span> by replace all <span class="math inline">\(l_0\)</span> with <span class="math inline">\(l_a\)</span> and estimating <span class="math inline">\({}_{n}\Delta_n\)</span> for <span class="math inline">\(x \geq a\)</span>
</li>
</ul>
</div>
<div id="adaptation-of-the-life-table-for-studying-other-single-decrement-processes" class="section level2" number="3.11">
<h2>
<span class="header-section-number">3.11</span> Adaptation of the life table for studying other single decrement processes<a class="anchor" aria-label="anchor" href="#adaptation-of-the-life-table-for-studying-other-single-decrement-processes"><i class="fas fa-link"></i></a>
</h2>
<p>In some processes, there are multiple ways to exit:</p>
<ul>
<li>Multiple ways to die</li>
<li>Multiple reasons for leaving a company</li>
<li>Etc.</li>
</ul>
<p>These are called <strong>multiple decrement processes</strong> and we’ll cover them next week. PHG identify 3 circumstances when a multiple decrement process can reasonably be treated like a single decrement process. For example, death due to multiple causes can be collapsed into death from a single cause.</p>
<p>Can you think of a case where this might not be a good idea?</p>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="week2.html"><span class="header-section-number">2</span> Age-specific rates and probabilities</a></div>
<div class="next"><a href="multiple-decrement-processes.html"><span class="header-section-number">4</span> Multiple decrement processes</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li>
<a class="nav-link" href="#life-tables-and-single-decrement-processes"><span class="header-section-number">3</span> Life tables and single decrement processes</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#cohort-life-tables-with-lifeline-data">Cohort life tables with lifeline data</a></li></ul>
</li>
<li>
<a class="nav-link" href="#period-life-tables"><span class="header-section-number">3.1</span> Period life tables</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#the-central-importance-of-_nq_x-and-_na_x">The central importance of \({}_{n}q_x\) and \({}_{n}a_x\)</a></li></ul>
</li>
<li>
<a class="nav-link" href="#strategies-for-_nm_x-rightarrow-_nq_x-conversion"><span class="header-section-number">3.2</span> Strategies for \({}_{n}m_x\) \(\rightarrow\) \({}_{n}q_x\) conversion</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#direct-observation"><span class="header-section-number">3.2.1</span> Direct observation</a></li>
<li><a class="nav-link" href="#graduation-of-the-age-specific-mortality-rate-_nm_x-function"><span class="header-section-number">3.2.2</span> Graduation of the age-specific mortality rate (\({}_{n}m_x\)) function</a></li>
<li><a class="nav-link" href="#borrowing-average-person-years-lived-_na_x-values-from-another-population"><span class="header-section-number">3.2.3</span> Borrowing average person-years lived (\({}_{n}a_x\)) values from another population</a></li>
<li><a class="nav-link" href="#using-rules-of-thumb"><span class="header-section-number">3.2.4</span> Using rules of thumb</a></li>
<li><a class="nav-link" href="#life-table-results-are-fairly-insensitive-to-error-in-choice-of-_na_x">Life table results are fairly insensitive to error in choice of \({}_{n}a_x\)</a></li>
</ul>
</li>
<li><a class="nav-link" href="#the-very-young-ages"><span class="header-section-number">3.3</span> The very young ages</a></li>
<li><a class="nav-link" href="#the-open-ended-age-interval"><span class="header-section-number">3.4</span> The open-ended age interval</a></li>
<li>
<a class="nav-link" href="#review-of-the-steps-for-period-life-table-construction"><span class="header-section-number">3.5</span> Review of the steps for period life table construction</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#step-1-adopt-a-set-of-_na_x-values">Step 1: Adopt a set of \({}_{n}a_x\) values</a></li>
<li><a class="nav-link" href="#step-2-convert-_nm_x-to-_nq_x">Step 2: Convert \({}_{n}m_x\) to \({}_{n}q_x\)</a></li>
<li><a class="nav-link" href="#step-3-compute-_np_x-1---_nq_x">Step 3: Compute \({}_{n}p_x = 1 - {}_{n}q_x\)</a></li>
<li><a class="nav-link" href="#step-4-choose-a-radix-l_0">Step 4: Choose a radix \(l_0\)</a></li>
<li><a class="nav-link" href="#step-5-compute-the-remaining-l_x-values-from-_np_x-values">Step 5: Compute the remaining \(l_x\) values from \({}_{n}p_x\) values</a></li>
<li><a class="nav-link" href="#step-6-derive-_nd_x-as-l_x---lxn-or-l_x-_nq_x">Step 6: Derive \({}_{n}d_x\) as \(l_x - l{x+n}\) or \(l_x * {}_{n}q_x\)</a></li>
<li><a class="nav-link" href="#step-7-derive-person-years-lived-between-ages-x-and-xn">Step 7: Derive person-years lived between ages \(x\) and \(x+n\)</a></li>
<li><a class="nav-link" href="#step-8-derive-t_x-sum_a1infty-_nl_x">Step 8: Derive \(T_x = \sum_{a=1}^\infty {}_{n}L_x\)</a></li>
<li><a class="nav-link" href="#step-9-derive-life-expectancy-e0_x-at-age-x">Step 9: Derive life expectancy \(e^0_x\) at age \(x\)</a></li>
<li><a class="nav-link" href="#visualizing-life-table-columns">Visualizing life table columns</a></li>
</ul>
</li>
<li><a class="nav-link" href="#interpreting-the-life-table"><span class="header-section-number">3.6</span> Interpreting the life table</a></li>
<li><a class="nav-link" href="#the-life-table-conceived-as-a-stationary-population"><span class="header-section-number">3.7</span> The life table conceived as a stationary population</a></li>
<li><a class="nav-link" href="#mortality-as-a-continuous-process"><span class="header-section-number">3.8</span> Mortality as a continuous process</a></li>
<li><a class="nav-link" href="#life-table-construction-revisited"><span class="header-section-number">3.9</span> Life table construction revisited</a></li>
<li><a class="nav-link" href="#decomposing-a-difference-in-life-expectancies"><span class="header-section-number">3.10</span> Decomposing a difference in life expectancies</a></li>
<li><a class="nav-link" href="#adaptation-of-the-life-table-for-studying-other-single-decrement-processes"><span class="header-section-number">3.11</span> Adaptation of the life table for studying other single decrement processes</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/hanowell/uwsoc533a/blob/master/03_life-tables-and-single-decrement-processes.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/hanowell/uwsoc533a/edit/master/03_life-tables-and-single-decrement-processes.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>UW SOC/CS&amp;SS/CSDE 533 A Course Notes</strong>" was written by Ben Hanowell. It was last built on 2021-12-24.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
